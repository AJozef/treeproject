# –î—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –º–µ–Ω—é Django

–≠—Ç–æ Django-–ø—Ä–æ–µ–∫—Ç (`treeproject`), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `tree_menu`. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –º–µ–Ω—é —Å N-—É—Ä–æ–≤–Ω–µ–≤–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ —à–∞–±–ª–æ–Ω—ã.

–ì–ª–∞–≤–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî **–º–µ–Ω—é —Å—Ç—Ä–æ–∏—Ç—Å—è –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∫ –ë–î** –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≥–ª—É–±–∏–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –∏ "—Ä–∞—Å–∫—Ä—ã—Ç–∏–µ" —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –≤–µ—Ç–≤–µ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ Python, –∞ –Ω–µ –≤ —à–∞–±–ª–æ–Ω–µ –∏–ª–∏ –ë–î.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **N-—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å:** –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ª—é–±—É—é –≥–ª—É–±–∏–Ω—É –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ `parent` ForeignKey).
* **–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∫ –ë–î:** –í–µ—Å—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–µ–Ω—é, –≤–∫–ª—é—á–∞—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ —Ä–∞—Å–∫—Ä—ã—Ç—ã—Ö –ø—É–Ω–∫—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –∑–∞ **1** SQL-–∑–∞–ø—Ä–æ—Å (`MenuItem.objects.filter(menu__name=menu_name)...`).
* **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞:** –ú–µ–Ω—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç (`class="active"`) –ø—É–Ω–∫—Ç, URL –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–∏–±–æ–ª–µ–µ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
* **"–†–∞—Å–∫—Ä—ã—Ç–∏–µ" –ø—Ä–µ–¥–∫–æ–≤:** –í—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø—É–Ω–∫—Ç—ã –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ–ª—É—á–∞—é—Ç –∫–ª–∞—Å—Å `class="expanded"`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Å—é –∞–∫—Ç–∏–≤–Ω—É—é –≤–µ—Ç–∫—É –º–µ–Ω—é.
* **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ `named_url`:** –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –∫–∞–∫ –∫ —è–≤–Ω—ã–º URL, —Ç–∞–∫ –∏ –∫ –∏–º–µ–Ω–∞–º –º–∞—Ä—à—Ä—É—Ç–æ–≤ (named URL) –∏–∑ `urls.py`.
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É:** –ú–µ–Ω—é –∏ –µ–≥–æ –ø—É–Ω–∫—Ç—ã –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ Django.

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
* Python 3.10+
* Django 5.2.8 (–≤–µ—Ä—Å–∏—è —É–∫–∞–∑–∞–Ω–∞ –≤ `requirements.txt`)

---

### 1. –®–∞–≥–∏ –ø–æ –∑–∞–ø—É—Å–∫—É (–ª–æ–∫–∞–ª—å–Ω–æ)

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone [URL-–≤–∞—à–µ–≥–æ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è]
    cd treeproject
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    # Windows
    .\venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
    ```bash
    python manage.py makemigrations
    python manage.py migrate
    ```

5.  **–°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
    ```bash
    python manage.py createsuperuser
    ```

6.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä:**

    * **–î–ª—è Windows (Powershell):**
        –°–∫—Ä–∏–ø—Ç `run_dev.ps1` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
        ```powershell
        .\run_dev.ps1
        ```
    * **–î–ª—è macOS/Linux:**
        –ó–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
        ```bash
        export DJANGO_SECRET_KEY='your-secret-key-here'
        export DJANGO_DEBUG='True'
        python manage.py runserver
        ```

7.  –û—Ç–∫—Ä–æ–π—Ç–µ [http://127.0.0.1:8000/](http://127.0.0.1:8000/) –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

---

### 2. –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)

–ß—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ `127.0.0.1`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –≤ `settings.py`. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–∏—Å—Ç–µ–º.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –≥–¥–µ –±—É–¥–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä.

---

#### üêß –î–ª—è Linux/macOS (bash/zsh)

1.  **`DJANGO_DEBUG`**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `False`.
    ```bash
    export DJANGO_DEBUG='False'
    ```

2.  **`DJANGO_ALLOWED_HOSTS`**: –£–∫–∞–∂–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**, –µ—Å–ª–∏ `DEBUG=False`.
    ```bash
    # –ó–∞–º–µ–Ω–∏—Ç–µ 'your.server.ip' –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å
    export DJANGO_ALLOWED_HOSTS='your.server.ip,your.domain.com'
    ```

3.  **`DJANGO_SECRET_KEY`**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞–¥–µ–∂–Ω—ã–π –∫–ª—é—á.
    ```bash
    export DJANGO_SECRET_KEY='your-production-secret-key'
    ```

---

#### ü™ü –î–ª—è Windows (PowerShell)

1.  **`DJANGO_DEBUG`**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `False`.
    ```powershell
    $env:DJANGO_DEBUG = 'False'
    ```

2.  **`DJANGO_ALLOWED_HOSTS`**: –£–∫–∞–∂–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**, –µ—Å–ª–∏ `DEBUG=False`.
    ```powershell
    # –ó–∞–º–µ–Ω–∏—Ç–µ 'your.server.ip' –Ω–∞ –≤–∞—à –∞–¥—Ä–µ—Å
    $env:DJANGO_ALLOWED_HOSTS = 'your.server.ip,your.domain.com'
    ```

3.  **`DJANGO_SECRET_KEY`**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞–¥–µ–∂–Ω—ã–π –∫–ª—é—á.
    ```powershell
    $env:DJANGO_SECRET_KEY = 'your-production-secret-key'
    ```

---

#### 4. –ó–∞–ø—É—Å–∫ `runserver` (–¥–ª—è –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º)

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å `runserver`, —á—Ç–æ–±—ã –æ–Ω —Å–ª—É—à–∞–ª –≤—Å–µ IP-–∞–¥—Ä–µ—Å–∞:
```bash
  python manage.py runserver 0.0.0.0:8000
```
> **–í–Ω–∏–º–∞–Ω–∏–µ:** `runserver` –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π production-–Ω–∞–≥—Ä—É–∑–∫–∏. –í production —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSGI-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gunicorn) –∏ —Å–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É (`python manage.py collectstatic`).

## üîé –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

–ú–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å–∞–π—Ç–∞.

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
* –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/admin/` –∏ –≤–æ–π–¥–∏—Ç–µ.
* –í —Ä–∞–∑–¥–µ–ª–µ "TREE MENU" –≤—ã —É–≤–∏–¥–∏—Ç–µ "–ú–µ–Ω—é" (`main_menu`) –∏ "–ü—É–Ω–∫—Ç—ã –º–µ–Ω—é".
* –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–Ω–∫—Ç—ã, —É–∫–∞–∑—ã–≤–∞—è —Ä–æ–¥–∏—Ç–µ–ª—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏.

**2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ "—Ä–∞—Å–∫—Ä—ã—Ç–∏—è":**
* **–ì–ª–∞–≤–Ω–∞—è (`/`):** –ü–æ–¥—Å–≤–µ—á–µ–Ω —Ç–æ–ª—å–∫–æ –ø—É–Ω–∫—Ç "Home".
* **–ë–ª–æ–≥ (`/blog/`):** –ü–æ–¥—Å–≤–µ—á–µ–Ω "Blog", —Ä–∞—Å–∫—Ä—ã—Ç –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç "Categories".
* **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (`/blog/categories/`):** –ü–æ–¥—Å–≤–µ—á–µ–Ω "Categories". –†–∞—Å–∫—Ä—ã—Ç—ã –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å ("Blog") –∏ –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã ("Category 1", "Category 2", "Category 3").
* **–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1 (`/blog/categories/1/`):** –ü–æ–¥—Å–≤–µ—á–µ–Ω "Category 1". –†–∞—Å–∫—Ä—ã—Ç—ã –≤—Å–µ –µ–≥–æ –ø—Ä–µ–¥–∫–∏ ("Categories" –∏ "Blog").

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ:**
–ú–µ–Ω—é –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ `base.html` —Å –ø–æ–º–æ—â—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ç–µ–≥–∞ `draw_menu`:
```django
{% load tree_menu_tags %}
...
<nav>
  {% draw_menu 'main_menu' %}
</nav>